var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let c,s;function i(t,e){return c||(c=document.createElement("a")),c.href=e,t===c.href}function l(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function p(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function m(){return f(" ")}function g(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $(t,e,n){t.classList[n?"add":"remove"](e)}function y(t){s=t}const v=[],w=[],x=[],k=[],L=Promise.resolve();let C=!1;function I(t){x.push(t)}let _=!1;const S=new Set;function j(){if(!_){_=!0;do{for(let t=0;t<v.length;t+=1){const e=v[t];y(e),O(e.$$)}for(y(null),v.length=0;w.length;)w.pop()();for(let t=0;t<x.length;t+=1){const e=x[t];S.has(e)||(S.add(e),e())}x.length=0}while(v.length);for(;k.length;)k.pop()();C=!1,_=!1,S.clear()}}function O(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(I)}}const T=new Set;let A;function E(t,e){t&&t.i&&(T.delete(t),t.i(e))}function q(t,e,n,o){if(t&&t.o){if(T.has(t))return;T.add(t),A.c.push((()=>{T.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function D(t,e){q(t,1,1,(()=>{e.delete(t.key)}))}function M(t){t&&t.c()}function R(t,n,a,c){const{fragment:s,on_mount:i,on_destroy:l,after_update:d}=t.$$;s&&s.m(n,a),c||I((()=>{const n=i.map(e).filter(r);l?l.push(...n):o(n),t.$$.on_mount=[]})),d.forEach(I)}function H(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function N(t,e){-1===t.$$.dirty[0]&&(v.push(t),C||(C=!0,L.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function B(e,r,a,c,i,l,d,p=[-1]){const f=s;y(e);const m=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(f?f.$$.context:[])),callbacks:n(),dirty:p,skip_bound:!1,root:r.target||f.$$.root};d&&d(m.root);let g=!1;if(m.ctx=a?a(e,r.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return m.ctx&&i(m.ctx[t],m.ctx[t]=r)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](r),g&&N(e,t)),n})):[],m.update(),g=!0,o(m.before_update),m.fragment=!!c&&c(m.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);m.fragment&&m.fragment.l(t),t.forEach(u)}else m.fragment&&m.fragment.c();r.intro&&E(e.$$.fragment),R(e,r.target,r.anchor,r.customElement),j()}y(f)}class F{$destroy(){H(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function P(e){let n,a,c,s,$,y,v,w,x,k,L,C,I,_,S,j,O,T,A,E,q,D,M,R,H,N,B,F,P,U,J=e[0].name+"",z=`${e[0].attributes}<br>${e[0].description}`,W=`$${(e[0].fee*e[0].count).toFixed(2)}`;return{c(){n=p("div"),a=p("div"),c=p("h4"),s=f(J),$=m(),y=p("button"),y.innerHTML='<span aria-hidden="true">Remove</span>',v=m(),w=p("div"),x=p("img"),L=m(),C=p("div"),I=p("p"),_=m(),S=p("div"),j=p("span"),O=f(W),T=m(),A=p("div"),E=p("button"),q=m(),D=p("input"),R=m(),H=p("button"),N=m(),B=p("div"),B.innerHTML='<div class="line"></div> \n    <div class="subline inc"></div> \n    <div class="subline dec"></div>',h(c,"class","h5"),h(y,"id","removeItemBtn"),h(y,"type","button"),h(y,"class","close small-font"),h(y,"aria-label","Remove product"),h(a,"class","cart-product-card-header d-flex flex-row justify-content-between"),i(x.src,k=e[0].image)||h(x,"src",k),h(x,"alt",""),h(x,"class","cart-product-image"),h(j,"class","small-font font-weight-bold"),h(E,"class","minus-button disable_button_bacground"),h(D,"class","cart-product-quantity-amount disable_button_bacground text-center"),D.value=M=e[0].count,h(H,"class","plus-button disable_button_bacground"),h(A,"class","cart-product-quantity"),h(S,"class","cart-product-card-bottom"),h(C,"class","cart-product-description"),h(w,"class","cart-product-card-content d-flex flex-row"),h(B,"id","storeCreationLoading"),h(B,"class","angel-linear-loading"),h(n,"class","cart-product-card"),h(n,"data-loading-id",F=e[0].id)},m(t,o){d(t,n,o),l(n,a),l(a,c),l(c,s),l(a,$),l(a,y),l(n,v),l(n,w),l(w,x),l(w,L),l(w,C),l(C,I),I.innerHTML=z,l(C,_),l(C,S),l(S,j),l(j,O),l(S,T),l(S,A),l(A,E),l(A,q),l(A,D),l(A,R),l(A,H),l(n,N),l(n,B),P||(U=[g(y,"click",(function(){r(e[3](e[0].id))&&e[3](e[0].id).apply(this,arguments)})),g(E,"click",(function(){r(e[2]())&&e[2]().apply(this,arguments)})),g(H,"click",(function(){r(e[1]())&&e[1]().apply(this,arguments)}))],P=!0)},p(t,[o]){e=t,1&o&&J!==(J=e[0].name+"")&&b(s,J),1&o&&!i(x.src,k=e[0].image)&&h(x,"src",k),1&o&&z!==(z=`${e[0].attributes}<br>${e[0].description}`)&&(I.innerHTML=z),1&o&&W!==(W=`$${(e[0].fee*e[0].count).toFixed(2)}`)&&b(O,W),1&o&&M!==(M=e[0].count)&&D.value!==M&&(D.value=M),1&o&&F!==(F=e[0].id)&&h(n,"data-loading-id",F)},i:t,o:t,d(t){t&&u(n),P=!1,o(U)}}}function U(t,e,n){let{product:o}=e,{incrementItem:r}=e,{decrementItem:a}=e,{removeItem:c}=e;return t.$$set=t=>{"product"in t&&n(0,o=t.product),"incrementItem"in t&&n(1,r=t.incrementItem),"decrementItem"in t&&n(2,a=t.decrementItem),"removeItem"in t&&n(3,c=t.removeItem)},[o,r,a,c]}class J extends F{constructor(t){super(),B(this,t,U,P,a,{product:0,incrementItem:1,decrementItem:2,removeItem:3})}}function z(t,e,n){const o=t.slice();return o[11]=e[n],o}function W(t,e){let n,o,r;function a(){return e[8](e[11])}function c(){return e[9](e[11])}return o=new J({props:{product:e[11],incrementItem:a,decrementItem:c,removeItem:e[6]}}),{key:t,first:null,c(){n=f(""),M(o.$$.fragment),this.first=n},m(t,e){d(t,n,e),R(o,t,e),r=!0},p(t,n){e=t;const r={};2&n&&(r.product=e[11]),2&n&&(r.incrementItem=a),2&n&&(r.decrementItem=c),o.$set(r)},i(t){r||(E(o.$$.fragment,t),r=!0)},o(t){q(o.$$.fragment,t),r=!1},d(t){t&&u(n),H(o,t)}}}function G(t){let e,n,a,c,s,i,y,v,w,x,k,L,C,I,_,S,j,O,T,M,R,H,N,B,F,P,U,J,G,K,V,X,Y=t[1].length+"",Z=[],tt=new Map,et=`$${t[2].toFixed(2)}`,nt=`$${t[3].toFixed(2)}`,ot=t[1];const rt=t=>t[11].id;for(let e=0;e<ot.length;e+=1){let n=z(t,ot,e),o=rt(n);tt.set(o,Z[e]=W(o,n))}return{c(){e=p("div"),n=p("div"),a=p("h2"),a.textContent="Shopping Cart",c=m(),s=p("label"),i=f(Y),y=m(),v=p("button"),v.innerHTML='<span aria-hidden="true">Ã—</span>',w=m(),x=p("div"),k=p("div");for(let t=0;t<Z.length;t+=1)Z[t].c();var o,r,l;L=m(),C=p("div"),I=p("div"),_=p("div"),S=p("span"),S.textContent="SUBTOTAL:",j=m(),O=p("span"),T=f(et),M=m(),R=p("div"),H=m(),N=p("div"),B=p("span"),B.textContent="Total:",F=m(),P=p("span"),U=f(nt),J=m(),G=p("form"),G.innerHTML='<button type="submit" class="btn btn-dark btn-accent mb-2">Proceed to Checkout</button> \n      <span class="cart-checkout-info">We accept Debit cards.</span>',h(a,"class","h3"),h(s,"for","cart-drawer"),h(s,"class","small-font"),h(n,"class","cart-header-main"),h(v,"type","button"),h(v,"class","close"),h(v,"aria-label","Close Cart"),h(e,"class","cart-header"),h(k,"class","mb-5 cart-body"),h(S,"class","font-weight-bold text-uppercase"),h(O,"class","font-weight-bold"),h(_,"class","cart-checkout-subtotals d-flex flex-row justify-content-between small-font"),h(R,"class","horizontal-divider"),o="margin",r="0.5rem 0",R.style.setProperty(o,r,l?"important":""),h(B,"class","font-weight-bold text-uppercase"),h(P,"class","font-weight-bold"),h(N,"class","cart-checkout-estimated-totals d-flex flex-row justify-content-between"),h(I,"class","cart-checkout-totals mb-3"),h(G,"action","/checkout"),h(G,"class","cart-checkout-proceed d-flex flex-column align-items-center"),h(C,"class","cart-checkout svelte-i88o4s"),$(C,"displayHide",0===t[1].length),h(x,"class","cart-body-wrapper")},m(o,u){d(o,e,u),l(e,n),l(n,a),l(n,c),l(n,s),l(s,i),l(e,y),l(e,v),d(o,w,u),d(o,x,u),l(x,k);for(let t=0;t<Z.length;t+=1)Z[t].m(k,null);l(x,L),l(x,C),l(C,I),l(I,_),l(_,S),l(_,j),l(_,O),l(O,T),l(I,M),l(I,R),l(I,H),l(I,N),l(N,B),l(N,F),l(N,P),l(P,U),l(C,J),l(C,G),K=!0,V||(X=[g(v,"click",(function(){r(t[0])&&t[0].apply(this,arguments)})),g(G,"submit",Q)],V=!0)},p(e,[n]){t=e,(!K||2&n)&&Y!==(Y=t[1].length+"")&&b(i,Y),114&n&&(ot=t[1],A={r:0,c:[],p:A},Z=function(t,e,n,o,r,a,c,s,i,l,d,u){let p=t.length,f=a.length,m=p;const g={};for(;m--;)g[t[m].key]=m;const h=[],b=new Map,$=new Map;for(m=f;m--;){const t=u(r,a,m),s=n(t);let i=c.get(s);i?o&&i.p(t,e):(i=l(s,t),i.c()),b.set(s,h[m]=i),s in g&&$.set(s,Math.abs(m-g[s]))}const y=new Set,v=new Set;function w(t){E(t,1),t.m(s,d),c.set(t.key,t),d=t.first,f--}for(;p&&f;){const e=h[f-1],n=t[p-1],o=e.key,r=n.key;e===n?(d=e.first,p--,f--):b.has(r)?!c.has(o)||y.has(o)?w(e):v.has(r)?p--:$.get(o)>$.get(r)?(v.add(o),w(e)):(y.add(r),p--):(i(n,c),p--)}for(;p--;){const e=t[p];b.has(e.key)||i(e,c)}for(;f;)w(h[f-1]);return h}(Z,n,rt,1,t,ot,tt,k,D,W,null,z),A.r||o(A.c),A=A.p),(!K||4&n)&&et!==(et=`$${t[2].toFixed(2)}`)&&b(T,et),(!K||8&n)&&nt!==(nt=`$${t[3].toFixed(2)}`)&&b(U,nt),2&n&&$(C,"displayHide",0===t[1].length)},i(t){if(!K){for(let t=0;t<ot.length;t+=1)E(Z[t]);K=!0}},o(t){for(let t=0;t<Z.length;t+=1)q(Z[t]);K=!1},d(t){t&&u(e),t&&u(w),t&&u(x);for(let t=0;t<Z.length;t+=1)Z[t].d();V=!1,o(X)}}}function K(t,e){const n=Array.from(document.querySelectorAll(".cart-product-card"));for(let o=0;o<n.length;o++)if(n[o].getAttribute("data-loading-id")===String(t))return"start"===e?void n[o].classList.add("loading"):void n[o].classList.remove("loading")}function Q(t){t.preventDefault();const e=encodeURIComponent(function(t){let e=t+"=",n=decodeURIComponent(document.cookie).split(";");for(let t=0;t<n.length;t++){let o=n[t];for(;" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return""}("angel"));window.location.href=`https://live.linespeedapt.com/checkout/?s=${e}`}function V(t,e,n){let o,r,{closeDrawer:a}=e,{cartList:c}=e,{cartOps:s}=e;document.getElementById("cart-drawer").children[0].addEventListener("click",(()=>{a()}));const i=t=>{K(t,"start"),s({id:t,type:"add",onCompletion:()=>{K(t,"stop")}})},l=t=>{K(t,"start"),s({id:t,type:"decrement",onCompletion:()=>{K(t,"stop")}})};return t.$$set=t=>{"closeDrawer"in t&&n(0,a=t.closeDrawer),"cartList"in t&&n(1,c=t.cartList),"cartOps"in t&&n(7,s=t.cartOps)},t.$$.update=()=>{2&t.$$.dirty&&n(2,o=c.reduce(((t,e)=>t+e.fee*e.count),0)),4&t.$$.dirty&&n(3,r=o)},[a,c,o,r,i,l,t=>{K(t,"start"),s({id:t,type:"remove",onCompletion:()=>{K(t,"stop")}})},s,t=>i(t.id),t=>l(t.id)]}class X extends F{constructor(t){super(),B(this,t,V,G,a,{closeDrawer:0,cartList:1,cartOps:7})}}function Y(t){let e,n,o;return n=new X({props:{cartOps:t[1],cartList:t[0],closeDrawer:t[2]}}),{c(){e=p("div"),M(n.$$.fragment),h(e,"class","cart-paper svelte-gevnv0"),$(e,"open",!0===tt)},m(t,r){d(t,e,r),R(n,e,null),o=!0},p(t,[e]){const o={};1&e&&(o.cartList=t[0]),n.$set(o)},i(t){o||(E(n.$$.fragment,t),o=!0)},o(t){q(n.$$.fragment,t),o=!1},d(t){t&&u(e),H(n)}}}const Z="https://live.linespeedapt.com";let tt=!1;function et(t,e,n){const o=new URL(window.location.href),r=t=>{fetch(`${Z}:4000/graphql`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include",body:JSON.stringify({query:"mutation Log($message: String!){ log(message:$message)}",variables:{message:t}})})};let a=[];(({onCompletion:t=null}={})=>{const e=(new Date).getTime();fetch(`${Z}:4000/graphql`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include",body:JSON.stringify({query:"query Cart { cart {\n          list{\n            id\n            name\n            attributes\n            description\n            image\n            fee\n            count\n          }\n        }}"})}).then((t=>{const n=(new Date).getTime()-e;return r(`Network Request to DataServer from CLient Side took: ${n}ms`),t.json()})).then((t=>{t&&t.data&&"object"==typeof t.data.cart&&"object"==typeof t.data.cart.list?n(0,a=t.data.cart.list):t&&t.data&&"object"==typeof t.data.cart?console.log("Cart List not object? Returned data: ",t):console.log("Something wrong with db? Returned data: ",t)})).catch((t=>{console.log(t)})).finally((()=>{null===t||t()}))})();const c=({id:t,type:e,reject:o=null,resolve:c=null,onCompletion:s=null,signal:i=null})=>{const l=(new Date).getTime();fetch(`${Z}:4000/graphql`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include",body:JSON.stringify({query:"mutation CartOperations($input: CartOperationsInput!) { cartOperations(input:$input) {\n          list{\n            id\n            name\n            attributes\n            description\n            image\n            fee\n            count\n          }\n        }}",variables:{input:{id:t,type:e}}}),signal:i}).then((t=>{const e=(new Date).getTime()-l;return r(`Network Request to DataServer from CLient Side took: ${e}ms`),t.json()})).then((t=>{t&&t.data&&"object"==typeof t.data.cartOperations&&"object"==typeof t.data.cartOperations.list?n(0,a=t.data.cartOperations.list):t&&t.data&&"object"==typeof t.data.cartOperations?console.log("Cart List not object? Returned data: ",t):console.log("Something wrong with db? Returned data: ",t)})).catch((t=>{console.log(t)})).finally((()=>{null===s||s()}))},s=()=>{document.getElementById("cart-drawer").classList.add("open")};document.getElementById("cartIcon").addEventListener("click",(()=>{s()}));const i=(t,e,n,o)=>{switch(e){case"start":return n.classList.add("loading"),void o.setAttribute("disabled","true");case"stop":return n.classList.remove("loading"),void o.removeAttribute("disabled");default:console.log("loadingCart expected 'state' parameter to be one of 'start' or 'stop'. Instead state is: ",e)}};if(["/","/index.php","/training/","/training/index.php"].some((t=>t===o.pathname))){Array.from(document.querySelectorAll(".session-product-container")).forEach((t=>{t.querySelector(".content-actions .btn").addEventListener("click",(e=>{const n=e.target.getAttribute("data-id");i(0,"start",t,e.target),c({id:n,type:"add",onCompletion:()=>{i(0,"stop",t,e.target),s()}})}))}))}return[a,c,()=>{document.getElementById("cart-drawer").classList.remove("open")}]}class nt extends F{constructor(t){super(),B(this,t,et,Y,a,{})}}function ot(e){let n,o;return n=new nt({}),{c(){M(n.$$.fragment)},m(t,e){R(n,t,e),o=!0},p:t,i(t){o||(E(n.$$.fragment,t),o=!0)},o(t){q(n.$$.fragment,t),o=!1},d(t){H(n,t)}}}return new class extends F{constructor(t){super(),B(this,t,null,ot,a,{})}}({target:document.querySelector("#cart-drawer"),props:{name:"world"}})}();
//# sourceMappingURL=svelte-bundle.js.map
